## Testing & Development
- IMPORTANT: Always use test-driven development and red-green-refactor for all development.
- Always start with tests, make sure they fail, then implement functionality to make them pass.
- Use `busted` for tests.
- Always run tests after completing a feature.

## Architecture
- Keep files as small as possible.
- Keep functions as small as possible.
- Use proper idioms for Lua.
- Helm uses Lua-managed virtual spaces and does not use macOS native Spaces.
- The macOS "Displays have separate Spaces" setting is not required for Helm's virtual spaces.

## Research
- Always research first and develop a plan, then execute the plan.

## Misc
- Confirm you have read these instructions by starting each conversation with "Custom instructions understood."
